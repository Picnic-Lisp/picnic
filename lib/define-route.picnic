(defmacro define-route (name)
  (package name)
  (go:import fmt)
  (go:import log)
  (go:import net/http)

  ;; (defun handler (w http.ResponseWriter, r *http.Request)
  ;;   (go (fmt.Fprintf w, "Hi there, I love %s!", r.URL.Path[1:])))

  (defun main (port)
  ;; (go (http.HandleFunc("/", handler)))
     (go (log.Fatal(http.ListenAndServe(port, null))))

  ;; now refer to: http://localhost:8080
